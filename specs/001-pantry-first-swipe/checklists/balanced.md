# Requirements Quality Checklist: Personalized Pantry-First Swipe Engine (Balanced)

**Purpose**: Unit-test the written requirements for completeness, clarity, consistency, measurability, and scenario coverage (balanced across UX, security/economy, and non-functional concerns).
**Created**: 2026-01-17
**Feature**: [specs/001-pantry-first-swipe/spec.md](../spec.md)

**Note**: This checklist is generated by the `/speckit.checklist` command based on feature context and requirements.

## Requirement Completeness

- [ ] CHK001 Are all user-visible states defined for the Swipe screen (gate/empty/loading/error/ready)? [Completeness, Spec §US1, Spec §Edge Cases/Discovery outage]
- [ ] CHK002 Are the exact deck invariants explicitly stated (per-energy isolation, 6-initial, 3-trigger, +5 refill)? [Completeness, Spec §FR-006, Spec §FR-007, Spec §FR-009]
- [ ] CHK003 Are all persisted entities required by the spec explicitly enumerated (deck cards, ideaKey history, saved recipes, ledger/unlock event)? [Completeness, Spec §FR-011b, Spec §FR-016, Spec §FR-020]
- [ ] CHK004 Is the “Canonical Seasoning Set” fully enumerated and its role in both gate and signature/invalidation clearly stated? [Completeness, Spec §FR-003, Spec §Domain Logic]

## Requirement Clarity

- [ ] CHK005 Is “at least 3 pantry ingredients” unambiguous about what counts (normalization, duplicates, empty strings, and seasonings exclusion)? [Clarity, Spec §FR-002, Spec §FR-003]
- [ ] CHK006 Is “separate decks per energy level” defined in a way that prevents cross-level mixing (including when refills happen)? [Clarity, Spec §FR-006, Spec §FR-009]
- [ ] CHK007 Is the definition of “lightweight Recipe Idea” specific enough to prevent including quantities/amounts in previews? [Clarity, Spec §FR-008]
- [ ] CHK008 Is “no repeats ever per energy level” precisely defined (scope, timeframe, and what constitutes a repeat)? [Clarity, Spec §FR-011, Spec §FR-012]

## Requirement Consistency

- [ ] CHK009 Do FR-011 (no repeats within energy) and FR-012 (across time) align without implying conflicting scopes? [Consistency, Spec §FR-011, Spec §FR-012]
- [ ] CHK010 Are the refill requirements consistent with the edge case “refill finishes after deck exhaustion” (expected behavior at 0 remaining vs 3 remaining)? [Consistency, Spec §FR-009, Spec §Edge Cases/Refill finishes after deck exhaustion]
- [ ] CHK011 Are the unlock requirements consistent across triggers (swipe-right vs “Show Directions”), including when cost applies? [Consistency, Spec §FR-013, Spec §FR-015]
- [ ] CHK012 Are cache invalidation requirements consistent across toggle changes and pantry edits, including any stated exclusions? [Consistency, Spec §FR-005, Spec §FR-005a, Spec §FR-011c]

## Acceptance Criteria Quality

- [ ] CHK013 Are US1 acceptance scenarios measurable enough to determine “no discovery requests occur” without relying on internal implementation knowledge? [Acceptance Criteria, Spec §US1, Spec §SC-001]
- [ ] CHK014 Are US2 acceptance scenarios measurable for “next card appears immediately” (explicit threshold or observable proxy)? [Measurability, Spec §US2, Spec §SC-003]
- [ ] CHK015 Are success criteria for refills quantified with a concrete definition of “refill completes before 0 remaining” and the measurement window? [Measurability, Spec §SC-004]
- [ ] CHK016 Are the “0 repeats over the most recent 100 generated ideas” criteria defined with a deterministic counting method (per user, per energy, across invalidations)? [Measurability, Spec §SC-005, Spec §FR-011b]

## Scenario Coverage

- [ ] CHK017 Are primary flows specified for: initial swipe entry, energy-level switching, and continuing to swipe during refill? [Coverage, Spec §US2, Spec §FR-010]
- [ ] CHK018 Are alternate flows specified for premium users vs free users, especially regarding carrot cost application? [Coverage, Spec §FR-015, Spec §FR-019b]
- [ ] CHK019 Are exception flows specified for out-of-carrots and how the UI communicates the block? [Coverage, Spec §Edge Cases/Insufficient carrots at unlock]
- [ ] CHK020 Are recovery flows specified for “refill completes after exhaustion” and for retrying after transient AI failure? [Coverage, Spec §Edge Cases/Discovery outage, Spec §Edge Cases/Refill finishes after deck exhaustion]

## Edge Case Coverage

- [ ] CHK021 Are the boundaries defined for exactly 3 remaining vs fewer than 3 remaining vs 0 remaining and their expected behaviors? [Edge Case, Spec §FR-009, Spec §Edge Cases/Refill finishes after deck exhaustion]
- [ ] CHK022 Is the behavior specified when the pantry contains only assumed seasonings (including when “Include Basics” changes what counts as assumed)? [Edge Case, Spec §Edge Cases/Only seasonings present, Spec §FR-003]
- [ ] CHK023 Is the behavior specified if toggles change while a background refill is in progress (what happens to in-flight results)? [Edge Case, Spec §Edge Cases/Toggles change during background refill]
- [ ] CHK024 Is the behavior specified for partial/invalid AI output (e.g., missing fields, empty instructions) separately for previews vs full recipes? [Gap, Spec §FR-008, Spec §FR-014]

## Non-Functional Requirements

- [ ] CHK025 Is “swipes must be immediate” quantified with an explicit timing budget and measurement approach? [Ambiguity, Spec §Performance notes, Spec §SC-003]
- [ ] CHK026 Are AI cost-control requirements explicit about batching, retry limits, and avoidance of repeated generation under the same inputs? [Completeness, Spec §AI Cost Control, Spec §FR-007]
- [ ] CHK027 Are reliability requirements defined for outage handling (e.g., retry guidance, degradation behavior, and user messaging)? [Completeness, Spec §Edge Cases/Discovery outage]
- [ ] CHK028 Are accessibility requirements defined for Swipe interactions and the pantry gate state (keyboard/screen reader/touch targets)? [Gap]

## Dependencies & Assumptions

- [ ] CHK029 Are external dependencies and prerequisites stated (AI key availability, Firebase configuration) and are they treated as product requirements or developer setup? [Assumption, Spec §Assumptions & Dependencies]
- [ ] CHK030 Is the weekly carrot reset dependency (external automation) specified with enough detail for the client behavior expectations? [Clarity, Spec §FR-017]
- [ ] CHK031 Is the “trusted validation mechanism” for tamper resistance concretely specified at the requirements level (without relying on implementation artifacts)? [Clarity, Spec §FR-019, Spec §FR-019a, Spec §FR-019b]

## Ambiguities & Conflicts

- [ ] CHK032 Is “deprecate shared community pool” defined as a functional/UX observable (what changes for the user) rather than only an internal refactor? [Clarity, Spec §FR-001]
- [ ] CHK033 Are the meanings of “Include Basics” and “Willing to Shop” defined with examples and boundary cases to prevent misinterpretation? [Ambiguity, Spec §FR-004]
- [ ] CHK034 Do the success criteria (SC-001..SC-005) align with the functional requirements (FR-001..FR-020) without leaving untestable gaps? [Consistency, Spec §Success Criteria, Spec §Requirements]

## Notes

- This checklist evaluates the written requirements, not the implementation.
- If an item is a gap, add a short note describing what must be added to the spec (or explicitly excluded from scope).
